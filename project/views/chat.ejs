<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="/socket.io/socket.io.js"></script>
    <script
      src="https://kit.fontawesome.com/d44f71ab07.js"
      crossorigin="anonymous"
    ></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        text-decoration: none;
      }
      body,
      html {
        font-family: "Kaushan Script";
        height: 100%;
      }
      header,
      #sideBar {
        background-color: #e0f0ff;
        border: 1px solid black;
      }
      header {
        display: flex;
        align-items: center;
        height: 7vh;
        padding: 0 10px;
      }
      header #logoLink {
        font-size: 24px;
        font-weight: bold;
      }
      #search1 {
        margin-left: auto;
        display: flex;
        align-items: center;
      }
      #searchBox1 {
        margin-left: 5px;
        padding: 5px;
        border: 1px solid black;
        border-radius: 10px;
      }
      #gearIcon1 {
        margin-left: 10px;
        cursor: pointer;
      }
      /* 수정된 부분 시작: fa-gear 옵션 애니메이션 */
      .options {
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        position: absolute;
        right: 10px;
        top: 7vh;
        background-color: #e0f0ff;
        border: 1px solid black;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
      }
      .options.show {
        max-height: 300px; /* 충분히 큰 값으로 설정 */
        opacity: 1;
      }
      .options div {
        padding: 10px;
        cursor: pointer;
      }
      .options div:hover {
        background-color: #c1e2ff;
      }
      /* 수정된 부분 끝 */

      main {
        display: flex;
        height: 93vh;
      }
      #sideBar {
        width: 250px;
        padding: 5px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      #myProfile {
        display: flex;
        align-items: center;
        padding: 10px;
        border: 1px solid black;
        border-radius: 10px;
        cursor: pointer;
      }
      .sideCategory {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
        border: 1px solid black;
        border-radius: 10px;
        cursor: pointer;
      }
      #gearIcon2 {
        display: none;
      }
      #myProfile ul {
        display: none;
      }
      #myProfile .fa-user {
        font-size: 24px;
      }
      .sideCategory ul {
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        list-style: none;
        padding: 0;
        margin-top: 10px;
        transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
      }
      .sideCategory.expanded ul {
        max-height: 200px;
        opacity: 1;
        width: 80%;
      }
      .sideCategory ul li {
        padding: 5px;
        background-color: #c1e2ff;
        border: 1px solid black;
        border-radius: 10px;
        margin: 2px 0;
      }

      #content {
        flex: 1;
        background-color: aliceblue;
      }

      /*-----------------------chat */

      body {
          overflow: hidden;
        }
        p#nickname {
            margin: 1.5em;
        }
      #content {
            position : relative;
        }

        #wrapper {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            height: 80vh;
            flex-grow: 1;
            margin-bottom: 1em;
        }
        #send {
            position : absolute;
        }

        #user-container {
            font-weight: bold;
            border: 1px solid black;
        }
        /* display-container 기본 설정 */
        #display-container {
            display: flex;
            flex-direction: column; /* 세로 방향으로 배치 */
            flex-grow: 2;
            overflow : auto;
        }

        /* msg-container를 내용에 맞게 크기 조절하고 세로로 배치 */
        .msg-container {
            display: block; /* 기본 블록 레벨 요소로 설정하여 세로 배치 */
            /* border: 1px solid black; 보이는 경계선 */
            padding: 10px; /* 내용과 경계 사이의 여백 */
            margin-bottom: 10px; /* 각 div 간의 간격 */
        }
        .talk {
          display: inline-block;
          border: 1px solid black;
          width: 40vw;
          padding: 0.5em;
        }
        /* nickname과 chatting-list 스타일 설정 */
        .nickname {
            display: block; /* 기본적인 블록 레벨 요소로 설정 */
            width: 100%; /* 부모 div에 맞게 너비 설정 */
            margin-bottom: 10px; /* input과 ul 간의 간격 */
            font-weight: bold;
        }

        .chatting-list {
            list-style-type: none; /* 기본 리스트 스타일 제거 */
            padding: 0; /* 기본 패딩 제거 */
            margin: 0; /* 기본 마진 제거 */
        }




      @media (max-width: 768px) {
        /* 반응형 헤더 */
        header {
          justify-content: space-between;
          border-bottom: none;
        }
        header .fa-bars {
          display: block !important;
          cursor: pointer;
        }
        #search1 {
          display: none !important;
        }
        #search2 {
          height: 10vh;
          display: flex !important;
          flex-direction: row;
          align-items: center;
          background-color: #e0f0ff;
          justify-content: center;
          border: 1px solid black;
          border-top: none;
        }
        #searchBox2 {
          width: 50vw;
          margin-left: 5px;
          padding: 7px;
          border: 1px solid black;
          border-radius: 10px;
        }
        /* 반응형 사이드 바 */
        #sideBar {
          width: 250px;
          padding: 5px;
          display: flex;
          flex-direction: column;
          gap: 10px;
          position: absolute;
          left: -500px; /* 사이드바를 화면 밖으로 위치시킴 */
          height: 100vh;
          transition: transform 0.5s ease-in-out; /* 트랜지션 설정 */
        }
        #sideBar.show {
          transform: translateX(500px); /* 100vw만큼 오른쪽으로 이동 */
        }
        #gearIcon2 {
          display: inline-block !important;
        }
        #myProfile {
          display: flex;
          flex-direction: column;
          align-items: center;
          padding: 10px;
          border: 1px solid black;
          border-radius: 10px;
          cursor: pointer;
        }
        #myProfile .fa-user {
          font-size: 24px;
        }
        #profileBox {
          width: 100% !important;
          display: flex;
        }
        #myProfile ul {
          display: block !important;
          max-height: 0;
          opacity: 0;
          overflow: hidden;
          list-style: none;
          padding: 0;
          margin-top: 10px;
          width: 100%;
          background-color: #e0f0ff;
          /* border: 1px solid black; */
          border-radius: 10px;
          transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }
        #myProfile.expanded ul {
          max-height: 200px;
          opacity: 1;
        }
        #myProfile ul li {
          padding: 5px;
          background-color: #c1e2ff;
          border: 1px solid black;
          border-radius: 10px;
          margin: 2px 0;
        }
        /*-----------------------chat */

        
        .talk {
          width : 50vw;
        }
        #wrapper {
          margin-bottom: 1em;
          height: 70vh;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <i class="fa-solid fa-bars" id="barsIcon" style="display: none"></i>
      <a href="#" id="logoLink">colla</a>
      <div id="search1">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input type="text" id="searchBox1" placeholder="전체에서 검색" />
      </div>
      <i class="fa-solid fa-gear" id="gearIcon1"></i>
      <div class="options" id="optionsMenu">
        <div><a href="#">마이페이지</a></div>
        <div><a href="#">사이트 정보</a></div>
        <div><a href="#">관리자 기능</a></div>
        <div><a href="#">로그아웃</a></div>
      </div>
    </header>
    <div id="search2" style="display: none">
      <i class="fa-solid fa-magnifying-glass"></i>
      <input type="text" id="searchBox2" placeholder="전체에서 검색" />
    </div>
    <main>
      <div id="sideBar">
        <div id="myProfile">
          <div class="profileBox">
            <i class="fa-solid fa-user"></i>
            <a href="#" style="margin-left: 10px">임수정</a>

            <i class="fa-solid fa-gear" id="gearIcon2"></i>
          </div>
          <ul>
            <li>프로필 설정</li>
            <li>계정 설정</li>
            <li>로그아웃</li>
          </ul>
        </div>
        <div class="sideCategory" onclick="toggleSubCategory(this)">
          <span>채널 <i class="fa-solid fa-angles-down"></i></span>
          <ul>
            <li>공지사항</li>
            <li>경영팀</li>
            <li>생산팀</li>
            <li><a href="#">+</a>추가하기</li>
          </ul>
        </div>
        <div class="sideCategory" onclick="toggleSubCategory(this)">
          <span>채팅방 <i class="fa-solid fa-angles-down"></i></span>
          <ul>
            <li>임수정</li>
            <li>채수빈</li>
          </ul>
        </div>
      </div>

      <!-- 채팅 내용 -->
    <div id="content">
        <!-- 채팅 하나 -->
        <div id="user-container"><p id="nickname">임꺽정 (인사팀)</div>
        <div id="wrapper">
            <!-- 채팅창 하나 -->
            <div id="display-container">

                <div class="msg-container">
                    <div class="talk">
                        <div type="text" class="nickname">임꺽정 (인사팀)</div>
                        <ul class="chatting-list">
                            <!-- 채팅하나씩 li로 집어 넣을 것 -->
                            <li>안녕하세요</li>
                        </ul>
                    </div>
                </div>
                
                <div class="msg-container">
                    <div class="talk">
                        <div type="text" class="nickname">임꺽정 (인사팀)</div>
                        <ul class="chatting-list">
                            <!-- 채팅하나씩 li로 집어 넣을 것 -->
                            <li>안녕하세요</li>
                        </ul>
                    </div>
                </div>
                <div class="msg-container">
                  <div class="talk">
                      <div type="text" class="nickname">임꺽정 (인사팀)</div>
                      <ul class="chatting-list">
                          <!-- 채팅하나씩 li로 집어 넣을 것 -->
                          <li>안녕하세요 반가어아ㅓㅇ아ㅓㅣㅏ너ㅏㅣ어ㅣㅏㅓㄴ이ㅏ러ㅣㅏ넝라너라ㅣㅓ아ㅣ러ㅣㄴ아ㅓ나ㅣㄴ렁ㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇ</li>
                      </ul>
                  </div>
              </div>
              
              <div class="msg-container">
                  <div class="talk">
                      <div type="text" class="nickname">임꺽정 (인사팀)</div>
                      <ul class="chatting-list">
                          <!-- 채팅하나씩 li로 집어 넣을 것 -->
                          <li>안녕하세요</li>
                      </ul>
                  </div>
              </div>
              <div class="msg-container">
                <div class="talk">
                    <div type="text" class="nickname">임꺽정 (인사팀)</div>
                    <ul class="chatting-list">
                        <!-- 채팅하나씩 li로 집어 넣을 것 -->
                        <li>안녕하세요</li>
                    </ul>
                </div>
            </div>
            
            <div class="msg-container">
                <div class="talk">
                    <div type="text" class="nickname">임꺽정 (인사팀)</div>
                    <ul class="chatting-list">
                        <!-- 채팅하나씩 li로 집어 넣을 것 -->
                        <li>안녕하세요</li>
                    </ul>
                </div>
            </div>
            <div class="msg-container">
              <div class="talk">
                  <div type="text" class="nickname">임꺽정 (인사팀)</div>
                  <ul class="chatting-list">
                      <!-- 채팅하나씩 li로 집어 넣을 것 -->
                      <li>안녕하세요</li>
                  </ul>
              </div>
          </div>
          
          <div class="msg-container">
              <div class="talk">
                  <div type="text" class="nickname">임꺽정 (인사팀)</div>
                  <ul class="chatting-list">
                      <!-- 채팅하나씩 li로 집어 넣을 것 -->
                      <li>안녕하세요</li>
                  </ul>
              </div>
          </div>
          <div class="msg-container">
            <div class="talk">
                <div type="text" class="nickname">임꺽정 (인사팀)</div>
                <ul class="chatting-list">
                    <!-- 채팅하나씩 li로 집어 넣을 것 -->
                    <li>안녕하세요</li>
                </ul>
            </div>
        </div>
        
        <div class="msg-container">
            <div class="talk">
                <div type="text" class="nickname">임꺽정 (인사팀)</div>
                <ul class="chatting-list">
                    <!-- 채팅하나씩 li로 집어 넣을 것 -->
                    <li>안녕하세요</li>
                </ul>
            </div>
        </div>



      </div>  
        </div>
        <div id="send">
            <input type="text" id="chatting-input" />
            <button id="send-button">전송</button>
        </div>
    </div>


    </main>





    <script>
      // const socket = io();
      
      function toggleSubCategory(element) {
        element.classList.toggle("expanded");
      }
      
      // Toggle options menu on fa-gear click
      document.getElementById('gearIcon').addEventListener('click', function() {
        const optionsMenu = document.getElementById('optionsMenu');
        if (optionsMenu.style.display === 'block') {
          optionsMenu.style.display = 'none';
        } else {
          optionsMenu.style.display = 'block';
        }
      });


      function toggleOptionMenu(element) {
        element.classList.toggle("expanded");
      }
      document
        .getElementById("gearIcon1")
        .addEventListener("click", function () {
          const optionsMenu = document.getElementById("optionsMenu");
          optionsMenu.classList.toggle("show");
        });
      document
        .getElementById("gearIcon2")
        .addEventListener("click", function () {
          const myProfile = document.getElementById("myProfile");
          myProfile.classList.toggle("expanded");
        });
      document
        .getElementById("barsIcon")
        .addEventListener("click", function () {
          const sideBar = document.getElementById("sideBar");
          sideBar.classList.toggle("show");
        });

    </script>
  </body>
</html>
